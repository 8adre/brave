<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14.0.2) on Wed Oct 14 08:43:59 UTC 2020 -->
<title>CurrentTraceContext.Default (Brave 5.12.7 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-10-14">
<meta name="description" content="declaration: package: brave.propagation, class: CurrentTraceContext, class: Default">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":9,"i1":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CurrentTraceContext.Default.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">brave.propagation</a></div>
<h1 title="Class CurrentTraceContext.Default" class="title">Class CurrentTraceContext.Default</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance"><a href="CurrentTraceContext.html" title="class in brave.propagation">brave.propagation.CurrentTraceContext</a>
<div class="inheritance"><a href="ThreadLocalCurrentTraceContext.html" title="class in brave.propagation">brave.propagation.ThreadLocalCurrentTraceContext</a>
<div class="inheritance">brave.propagation.CurrentTraceContext.Default</div>
</div>
</div>
</div>
<section class="description">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="CurrentTraceContext.html" title="class in brave.propagation">CurrentTraceContext</a></dd>
</dl>
<hr>
<pre>public static final class <span class="typeNameLabel">CurrentTraceContext.Default</span>
extends <a href="ThreadLocalCurrentTraceContext.html" title="class in brave.propagation">ThreadLocalCurrentTraceContext</a></pre>
<div class="block">Default implementation which is backed by a static thread local.

 <p>A static thread local ensures we have one context per thread, as opposed to one per thread-
 tracer. This means all tracer instances will be able to see any tracer's contexts.

 <p>The trade-off of this (instance-based reference) vs the reverse: trace contexts are not
 separated by tracer by default. For example, to make a trace invisible to another tracer, you
 have to use a non-default implementation.

 <p>Sometimes people make different instances of the tracer just to change configuration like
 the local service name. If we used a thread-instance approach, none of these would be able to
 see eachother's scopes. This would break <a href="../Tracing.html#currentTracer()"><code>Tracing.currentTracer()</code></a> scope visibility in a
 way few would want to debug. It might be phrased as "MySQL always starts a new trace and I
 don't know why."

 <p>If you want a different behavior, use a different subtype of <a href="CurrentTraceContext.html" title="class in brave.propagation"><code>CurrentTraceContext</code></a>,
 possibly your own, or raise an issue and explain what your use case is.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="inheritedList">
<h2>Nested classes/interfaces inherited from class&nbsp;brave.propagation.<a href="ThreadLocalCurrentTraceContext.html" title="class in brave.propagation">ThreadLocalCurrentTraceContext</a></h2>
<a id="nested.classes.inherited.from.class.brave.propagation.ThreadLocalCurrentTraceContext">
<!--   -->
</a><code><a href="ThreadLocalCurrentTraceContext.Builder.html" title="class in brave.propagation">ThreadLocalCurrentTraceContext.Builder</a></code></div>
<div class="inheritedList">
<h2>Nested classes/interfaces inherited from class&nbsp;brave.propagation.<a href="CurrentTraceContext.html" title="class in brave.propagation">CurrentTraceContext</a></h2>
<a id="nested.classes.inherited.from.class.brave.propagation.CurrentTraceContext">
<!--   -->
</a><code><a href="CurrentTraceContext.Default.html" title="class in brave.propagation">CurrentTraceContext.Default</a>, <a href="CurrentTraceContext.Scope.html" title="interface in brave.propagation">CurrentTraceContext.Scope</a>, <a href="CurrentTraceContext.ScopeDecorator.html" title="interface in brave.propagation">CurrentTraceContext.ScopeDecorator</a></code></div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>static <a href="CurrentTraceContext.html" title="class in brave.propagation">CurrentTraceContext</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#create()">create</a></span>()</code></th>
<td class="colLast">
<div class="block">Uses a non-inheritable static thread local</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>static <a href="CurrentTraceContext.html" title="class in brave.propagation">CurrentTraceContext</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#inheritable()">inheritable</a></span>()</code></th>
<td class="colLast">
<div class="block">Uses an inheritable static thread local which allows arbitrary calls to <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#start()" title="class or interface in java.lang" class="externalLink"><code>Thread.start()</code></a> to automatically inherit this context.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;brave.propagation.<a href="ThreadLocalCurrentTraceContext.html" title="class in brave.propagation">ThreadLocalCurrentTraceContext</a></h3>
<a id="methods.inherited.from.class.brave.propagation.ThreadLocalCurrentTraceContext">
<!--   -->
</a><code><a href="ThreadLocalCurrentTraceContext.html#clear()">clear</a>, <a href="ThreadLocalCurrentTraceContext.html#get()">get</a>, <a href="ThreadLocalCurrentTraceContext.html#newBuilder()">newBuilder</a>, <a href="ThreadLocalCurrentTraceContext.html#newScope(brave.propagation.TraceContext)">newScope</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;brave.propagation.<a href="CurrentTraceContext.html" title="class in brave.propagation">CurrentTraceContext</a></h3>
<a id="methods.inherited.from.class.brave.propagation.CurrentTraceContext">
<!--   -->
</a><code><a href="CurrentTraceContext.html#decorateScope(brave.propagation.TraceContext,brave.propagation.CurrentTraceContext.Scope)">decorateScope</a>, <a href="CurrentTraceContext.html#executor(java.util.concurrent.Executor)">executor</a>, <a href="CurrentTraceContext.html#executorService(java.util.concurrent.ExecutorService)">executorService</a>, <a href="CurrentTraceContext.html#maybeScope(brave.propagation.TraceContext)">maybeScope</a>, <a href="CurrentTraceContext.html#wrap(java.lang.Runnable)">wrap</a>, <a href="CurrentTraceContext.html#wrap(java.util.concurrent.Callable)">wrap</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="create()">create</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="CurrentTraceContext.html" title="class in brave.propagation">CurrentTraceContext</a></span>&nbsp;<span class="memberName">create</span>()</div>
<div class="block">Uses a non-inheritable static thread local</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="inheritable()">inheritable</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="CurrentTraceContext.html" title="class in brave.propagation">CurrentTraceContext</a></span>&nbsp;<span class="memberName">inheritable</span>()</div>
<div class="block">Uses an inheritable static thread local which allows arbitrary calls to <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#start()" title="class or interface in java.lang" class="externalLink"><code>Thread.start()</code></a> to automatically inherit this context. This feature is available as it is was
 the default in Brave 3, because some users couldn't control threads in their applications.

 <p>This can be a problem in scenarios such as thread pool expansion, leading to data being
 recorded in the wrong span, or spans with the wrong parent. If you are impacted by this,
 switch to <a href="#create()"><code>create()</code></a>.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CurrentTraceContext.Default.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2020 <a href="https://zipkin.io/">OpenZipkin</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
