<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (13.0.2) on Mon Apr 06 06:03:21 UTC 2020 -->
<title>B3SingleFormat (Brave 5.11.2 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-04-06">
<meta name="description" content="declaration: package: brave.propagation, class: B3SingleFormat">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/B3SingleFormat.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">brave.propagation</a></div>
<h1 title="Class B3SingleFormat" class="title">Class B3SingleFormat</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance">brave.propagation.B3SingleFormat</div>
</div>
<section class="description">
<hr>
<pre>public final class <span class="typeNameLabel">B3SingleFormat</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">This format corresponds to the propagation key "b3" (or "B3"), which delimits fields in the
 following manner.

 <pre><code>
 b3: {x-b3-traceid}-{x-b3-spanid}-{if x-b3-flags 'd' else x-b3-sampled}-{x-b3-parentspanid}
 </code></pre>

 <p>For example, a sampled root span would look like:
 <code>4bf92f3577b34da6a3ce929d0e0e4736-00f067aa0ba902b7-1</code>

 <p>... a not yet sampled root span would look like:
 <code>4bf92f3577b34da6a3ce929d0e0e4736-00f067aa0ba902b7</code>

 <p>... and a debug RPC child span would look like:
 <code>4bf92f3577b34da6a3ce929d0e0e4736-00f067aa0ba902b7-d-5b4185666d50f68b</code>

 <p>Like normal B3, it is valid to omit trace identifiers in order to only propagate a sampling
 decision. For example, the following are valid downstream hints:
 <ul>
 <li>don't sample - <code>b3: 0</code></li>
 <li>sampled - <code>b3: 1</code></li>
 <li>debug - <code>b3: d</code></li>
 </ul>

 Reminder: debug (previously <code>X-B3-Flags: 1</code>), is a boosted sample signal which is recorded
 to ensure it reaches the collector tier. See <a href="SamplingFlags.html#debug()"><code>SamplingFlags.debug()</code></a>.

 <p>See <a href="https://github.com/openzipkin/b3-propagation">B3 Propagation</a></div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>static <a href="TraceContextOrSamplingFlags.html" title="class in brave.propagation">TraceContextOrSamplingFlags</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#parseB3SingleFormat(java.lang.CharSequence)">parseB3SingleFormat</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang" class="externalLink">CharSequence</a>&nbsp;b3)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>static <a href="TraceContextOrSamplingFlags.html" title="class in brave.propagation">TraceContextOrSamplingFlags</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#parseB3SingleFormat(java.lang.CharSequence,int,int)">parseB3SingleFormat</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang" class="externalLink">CharSequence</a>&nbsp;value,
int&nbsp;beginIndex,
int&nbsp;endIndex)</code></th>
<td class="colLast">
<div class="block">This reads a trace context a sequence potentially larger than the format.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeB3SingleFormat(brave.propagation.TraceContext)">writeB3SingleFormat</a></span>&#8203;(<a href="TraceContext.html" title="class in brave.propagation">TraceContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Writes all B3 defined fields in the trace context to a hyphen delimited string.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeB3SingleFormatAsBytes(brave.propagation.TraceContext)">writeB3SingleFormatAsBytes</a></span>&#8203;(<a href="TraceContext.html" title="class in brave.propagation">TraceContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Like <a href="#writeB3SingleFormat(brave.propagation.TraceContext)"><code>writeB3SingleFormat(TraceContext)</code></a>, but for carriers with byte array or byte
 buffer values.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeB3SingleFormatWithoutParentId(brave.propagation.TraceContext)">writeB3SingleFormatWithoutParentId</a></span>&#8203;(<a href="TraceContext.html" title="class in brave.propagation">TraceContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Writes all B3 defined fields in the trace context, except <a href="TraceContext.html#parentIdAsLong()"><code>parent ID</code></a>, to a hyphen delimited string.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeB3SingleFormatWithoutParentIdAsBytes(brave.propagation.TraceContext)">writeB3SingleFormatWithoutParentIdAsBytes</a></span>&#8203;(<a href="TraceContext.html" title="class in brave.propagation">TraceContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Like <a href="#writeB3SingleFormatWithoutParentId(brave.propagation.TraceContext)"><code>writeB3SingleFormatWithoutParentId(TraceContext)</code></a>, but for carriers with byte
 array or byte buffer values.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="writeB3SingleFormatWithoutParentId(brave.propagation.TraceContext)">writeB3SingleFormatWithoutParentId</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></span>&nbsp;<span class="memberName">writeB3SingleFormatWithoutParentId</span>&#8203;(<span class="arguments"><a href="TraceContext.html" title="class in brave.propagation">TraceContext</a>&nbsp;context)</span></div>
<div class="block">Writes all B3 defined fields in the trace context, except <a href="TraceContext.html#parentIdAsLong()"><code>parent ID</code></a>, to a hyphen delimited string.

 <p>This is appropriate for receivers who understand "b3" single header format, and always do
 work in a child span. For example, message consumers always do work in child spans, so message
 producers can use this format to save bytes on the wire. On the other hand, RPC clients should
 use <a href="#writeB3SingleFormat(brave.propagation.TraceContext)"><code>writeB3SingleFormat(TraceContext)</code></a> instead, as RPC servers often share a span ID
 with the client.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="writeB3SingleFormatWithoutParentIdAsBytes(brave.propagation.TraceContext)">writeB3SingleFormatWithoutParentIdAsBytes</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">writeB3SingleFormatWithoutParentIdAsBytes</span>&#8203;(<span class="arguments"><a href="TraceContext.html" title="class in brave.propagation">TraceContext</a>&nbsp;context)</span></div>
<div class="block">Like <a href="#writeB3SingleFormatWithoutParentId(brave.propagation.TraceContext)"><code>writeB3SingleFormatWithoutParentId(TraceContext)</code></a>, but for carriers with byte
 array or byte buffer values. For example, <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true#wrap(byte%5B%5D)" title="class or interface in java.nio" class="externalLink"><code>ByteBuffer.wrap(byte[])</code></a> can wrap the result.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="writeB3SingleFormat(brave.propagation.TraceContext)">writeB3SingleFormat</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></span>&nbsp;<span class="memberName">writeB3SingleFormat</span>&#8203;(<span class="arguments"><a href="TraceContext.html" title="class in brave.propagation">TraceContext</a>&nbsp;context)</span></div>
<div class="block">Writes all B3 defined fields in the trace context to a hyphen delimited string. This is
 appropriate for receivers who understand "b3" single header format.

 <p>The <a href="TraceContext.html#parentIdAsLong()"><code>parent ID</code></a> is serialized in case the receiver is
 an RPC server. When downstream is known to be a messaging consumer, or a server that never
 reuses a client's span ID, prefer <a href="#writeB3SingleFormatWithoutParentId(brave.propagation.TraceContext)"><code>writeB3SingleFormatWithoutParentId(TraceContext)</code></a>.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="writeB3SingleFormatAsBytes(brave.propagation.TraceContext)">writeB3SingleFormatAsBytes</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">writeB3SingleFormatAsBytes</span>&#8203;(<span class="arguments"><a href="TraceContext.html" title="class in brave.propagation">TraceContext</a>&nbsp;context)</span></div>
<div class="block">Like <a href="#writeB3SingleFormat(brave.propagation.TraceContext)"><code>writeB3SingleFormat(TraceContext)</code></a>, but for carriers with byte array or byte
 buffer values. For example, <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true#wrap(byte%5B%5D)" title="class or interface in java.nio" class="externalLink"><code>ByteBuffer.wrap(byte[])</code></a> can wrap the result.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="parseB3SingleFormat(java.lang.CharSequence)">parseB3SingleFormat</a></h3>
<div class="memberSignature"><span class="annotations">@Nullable
</span><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="TraceContextOrSamplingFlags.html" title="class in brave.propagation">TraceContextOrSamplingFlags</a></span>&nbsp;<span class="memberName">parseB3SingleFormat</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang" class="externalLink">CharSequence</a>&nbsp;b3)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="parseB3SingleFormat(java.lang.CharSequence,int,int)">parseB3SingleFormat</a></h3>
<div class="memberSignature"><span class="annotations">@Nullable
</span><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="TraceContextOrSamplingFlags.html" title="class in brave.propagation">TraceContextOrSamplingFlags</a></span>&nbsp;<span class="memberName">parseB3SingleFormat</span>&#8203;(<span class="arguments"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang" class="externalLink">CharSequence</a>&nbsp;value,
int&nbsp;beginIndex,
int&nbsp;endIndex)</span></div>
<div class="block">This reads a trace context a sequence potentially larger than the format. The use-case is
 reducing garbage, by re-using the input <code>value</code> across multiple parse operations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - the sequence that contains a B3 single formatted trace context</dd>
<dd><code>beginIndex</code> - the inclusive begin index: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true#charAt(int)" title="class or interface in java.lang" class="externalLink">index</a> of the
 first character in B3 single format.</dd>
<dd><code>endIndex</code> - the exclusive end index: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true#charAt(int)" title="class or interface in java.lang" class="externalLink">index</a>
 <em>after</em> the last character in B3 single format.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/B3SingleFormat.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2020 <a href="https://zipkin.io/">OpenZipkin</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
